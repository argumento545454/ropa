<!--1-->
<!DOCTYPE html>
<html lang="es">

<!--2--> 
<head>
<meta charset="UTF-8">
<title>carrusel_45_treinta_s</title> 

<!--2.1-->
<style>
/*2.1.1*/
main { position: relative; flex:1; display:flex; flex-direction:column; align-items:center; padding:20px; }

/*2.1.2*/
#franja { display:flex; overflow-x:auto; gap:10px; padding:90px; width:90%; border-top:2px solid #ccc; display:none; }

/*2.1.3*/
#btnToggleFranja { position:absolute; bottom:50px; left:100px; padding:10px 20px; background:khaki; color:black; border:none; border-radius:6px; font-size:16px; cursor:pointer; z-index:3000; box-shadow:0 2px 6px rgba(0,0,0,0.3);}

/*2.1.4*/
body { display:flex; min-height:100vh; background:khaki; font-family:Arial,sans-serif; margin:0; padding:0; }

/*2.1.5*/
#menuInicial { display:flex; flex-direction:column; gap:10px; padding:20px; width:240px; background:#fff; border-right:2px solid #ccc; height:100vh; box-sizing:border-box; overflow-y:auto; }

/*2.1.6*/
#menuInicial button { padding:10px 15px; border:none; border-radius:6px; background:white; font-size:20px; cursor:pointer; text-align:left; transition:0.2s; }

/*2.1.7*/
#menuInicial button:hover { background:lightblue; }

/*2.1.8*/
#menuInicial button.activo { background:lightblue; font-weight:bold; }

/*2.1.9*/
h2 { margin-bottom:20px; }

/*2.1.10*/
.circle-container { position: relative; width: 600px; height: 600px; border-radius: 50%; margin-top: 150px; display: block;
}
                                                                                                                                                                                                                         
/*2.1.11*/
.circle-container img { position:absolute; width:180px; height:180px; border-radius:10px; object-fit:cover; transition: transform 0.3s, z-index 0.3s; cursor:pointer; }

/*2.1.12*/
.circle-container img:hover { transform:scale(3.3); z-index:2000; }

/*2.1.13*/
.thumb-container { position:relative; display:inline-block; }

/*2.1.14*/
.thumb-container img { width:100px; height:100px; object-fit:cover; border-radius:8px; transition: transform 0.2s; cursor:pointer;}

/*2.1.15*/
.thumb-container img:hover { transform:scale(1.1); border:2px solid #333; }

/*2.1.16*/
.btnEliminar { position:absolute; top:80px; right:2px; background:gray; color:white; border:none; border-radius:50%; width:20px; height:20px; cursor:pointer; font-size:14px; line-height:18px; text-align:center; padding:0; }

/*2.1.17*/
.btnEliminar:hover { background:blue; }
</style>


<!--2.2-->
<style>

/*2.2.1*/
/* FOTO cliente Contenedor para la foto y botón */
#fotoClienteContainer {
  display: flex;
  flex-direction: column; /* Apilar verticalmente */
  align-items: center;    /* Centrar horizontalmente */
  margin-top: 20px;
  margin-bottom: 20px;
  perspective: 800px; /* agrega perspectiva para rotación 3D */
  margin-left: 100px; /* mueve a la derecha */
}

/*2.2.2*/
#fotoCliente {
  position: absolute;
  left: 600px;
  top: 100px;
  width: 200px;
  height: 190px;
  object-fit: cover;
  border: none;
  border-radius: 10px;
  box-shadow: none);
  transition: transform 0.2s ease;
  z-index: 2000;
  margin-bottom: 20px;
}

/*2.2.3*/
/*foto cliente rotacion infinita */
@keyframes rotarFoto {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/*2.2.4.1*/
/*foto cliente se agranda*/
#fotoCliente:hover { transform:scale(2.3); z-index:2000; }  

 
/*2.2.5*/
/* foto pc Botón subir foto */
#btnSubirfoto {
  position: absolute;   /* se posiciona relativo al contenedor */
  bottom: 900px;         /* 10px desde la parte inferior de la foto */
  left: 70%;            /* centrado horizontal */
  transform: translateX(-50%); /* ajustar centro exacto */
  padding: 8px 16px;
  font-size: 16px;
  cursor: pointer;
  background: khaki;
  border: 1px solid #555;
  border-radius: 6px;
}

/*2.2.6*/
/* Contenedor de la cámara */
#camaraContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
  perspective: 800px; /* si quieres algún efecto 3D */
}

/*2.2.7*/
/* Video donde se ve la cámara */
#videoCamara {
  width: 160px;
  height: 120px;
  border: 2px solid #555;
  border-radius: 10px;
  display: none; /* inicialmente oculto */
  object-fit: cover;
  background: #000;
}

/*2.2.8*/
/* Botones de control de la cámara */
#btnCamara {
  margin-top: 8px;
  padding: 6px 12px;
  background: ;  
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}

/*2.2.9*/
#btnCamara:hover { background: #666; }

/*2.2.10*/
/* Botón para tomar foto */
#btnTomarFoto {
  margin-top: 6px;
  padding: 6px 12px;
  background: ;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  display: none; /* aparece solo al encender la cámara */
  transition: 0.2s;
}

/*2.2.11*/
#btnTomarFoto:hover { background: #0056b3; }

/*2.2.12*/
/* Canvas invisible */
#canvasCamara {
  display: none;
}

/*2.2.13*/
/* Imagen donde se muestra la foto tomada */
#fotoCamara {
  display: none;
  width: 160px;
  height: 120px;
  border-radius: 10px;
  margin-top: 8px;
  object-fit: cover;
  border: 2px solid #555;
}

/*2.2.14*/
  /* 🔧 Eliminar botón amarillo que aparece dentro del video */

video button,

/*2.2.15*/
#videoContainer button:not(#btnCamara),

/*2,2,16*/
#videoCamara + button {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}
</style>



<!--2.3-->  
<script>
//2.3.1
//logo crear JS
function crearFavicon() {
  const canvas = document.createElement('canvas');
  canvas.width = 64;
  canvas.height = 64;
  const ctx = canvas.getContext('2d');

/*2.3.2*/
  // Fondo color pestania
  ctx.fillStyle = 'khaki'; /*pestania fondo color  */
  ctx.fillRect(0, 0, canvas.width, canvas.height);

/*2.3.3*/
  // Texto VV
  ctx.fillStyle = 'blue';  /*pestania letras color  */
  ctx.font = 'bold 40px Arial';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  ctx.fillText('VV', canvas.width/2, canvas.height/2);

/*2.3.4*/
  // Crear favicon
  const link = document.createElement('link');
  link.rel = 'icon';
  link.href = canvas.toDataURL('image/png');
  document.head.appendChild(link);
}

/*2.3.5*/
// Ejecutar
crearFavicon();
</script>

</head>

<!--3-->
<body>

<!--3.1-->
<div id="menuInicial">   <!--columna izquierda -->
Categorias
  <button id="btnSombreros">Sombreros Mujer</button>
  <button id="btnBlusas">Blusas</button>
  <button id="btnPantaMujer">Pantalones Mujer</button>
  <button id="btnZapatos">Zapatos</button>
  <button id="btnVestidos">Vestidos</button>
  <button id="btnFaldas">Faldas</button>
  <button id="btnChompas">Chompas</button>
  <button id="btnCamisas">Camisas</button>
  <button id="btnRopa">Ropa</button>
  <button id="btnElectro">Electrodom&eacute;sticos</button>
  <button id="btnCarros">Carros</button>
  <!--<button id="btnMotos">Motos</button>-->
  <!--<button id="btnBicicletas">Bicicletas</button>-->
  <!--<button id="btnCelulares">Celulares</button>-->
  <!--<button id="btnFerreteria">Ferreter&iacute;as</button> -->
  <!--<button id="btnRepuestos">Repuestos</button> -->

<!--3.2-->
Voz/Clic Comandos 
  <button id="">Encender Cámara</button>
  <button id="btnToggleFranjaMenu"></button>  <!--Franja (Ocultar/Mostrar)-->
  <button id=""> 0/1 Col. izq. (Ocultar/Mostrar) </button>
  <button id="">F11 Pantalla </button>

<!--3.3-->
<!--input img--> 
<button id="btnSubirImagen">Subir img carrusel</button>  <!--Sube Imagenes en orden deseado -->
<!--button tapa boton "elegir archivos" de input y en su lugar aparece "Subir img" -->
<input type="file" id="inputImagenes" accept="image/*" multiple style="display:none">

  <button id="btnCarruselToggle">Carrusel</button>  <!--Vaciar/Recuperar-->
  <button id="btnFranjaToggle">Franja</button>  <!--Vaciar/Recuperar-->
</div>


<!--3.4-->
<main>

<!--3.4.1-->
  <!-- Contenedor título + cámara + foto cliente (solo UNA vez) -->
  <div style="display:flex; align-items:center; gap:20px; margin-bottom:20px;">

<!--3.4.2-->    
    <!-- Cámara PC (único) -->
    <div style="display:flex; flex-direction:column; align-items:center;">
      <video id="videoCamara" autoplay playsinline
             style="width:160px; height:120px; border:2px solid #555; border-radius:10px; display:none;"></video>

<!--3.4.3-->
      <!-- Botón encender/apagar camara-->
      <button id="btnCamara"
              style="margin-top: -60px; padding:6px 12px; background:khaki; color:black; border:none; border-radius:8px; cursor:pointer;">
        📷 Encender Cámara   <!--primer boton encender camara-->
      </button>

<!--3.4.4-->
      <!-- Botón tomar foto (aparece cuando la cámara esté encendida) -->
      <button id="btnTomarFoto"
              style="margin-top:50px; padding:6px 12px; background:#007BFF; color:white; border:none; border-radius:8px; display:none; cursor:pointer;">
        Tomar Foto
      </button>

      <canvas id="canvasCamara" style="display:none;"></canvas>
      <img id="fotoCamara" alt="Foto Cámara"
           style="display:none; width:160px; height:120px; border-radius:10px; margin-top:8px;">
    </div>

<!--3.4.5-->
    <!-- Título y foto cliente (único) -->
    <div style="display:flex; flex-direction:column; align-items:center; gap:10px;">
      <h2>Centro Comercial 45 "Vitrinas Virtuales"</h2>
      <img id="fotoCliente" 
src="imagenes/cliente_default.jpg" alt="Foto" width="200" height="200">
      <button id="btnSubirfoto">Foto pc</button>
      <input type="file" id="inputFoto" accept="image/*" style="display:none">
    </div>

  </div>

<!--3.4.6-->
  <!-- Carrusel y franja -->
  <div class="circle-container" id="circle"></div>
  <div class="franja" id="franja"></div>
</main>



<!--3.5-->
<script>
foto cliente rotar
</script>

<!--3.6-->
<!-- === Cámara PC Controlada === -->
<div id="camaraContainer" style="display:flex; flex-direction:column; align-items:center; margin-bottom:20px;">
  <!-- Cuadro donde se muestra lo que capta la cámara -->
  <video id="videoCamara" autoplay playsinline style="width:160px; height:120px; border:2px solid #555; border-radius:10px; display:none;"></video>

<!--3.7-->
  <!-- Botones de control 
  <button id="btnCamara" style="margin-top:8px; padding:6px 12px; background:#444; color:white; border:none; border-radius:8px; cursor:pointer;">
    Encender Cámara
  </button>
-->


  <button id="btnTomarFoto" style="margin-top:6px; padding:6px 12px; background:#007BFF; color:white; border:none; border-radius:8px; display:none; cursor:pointer;">
    Tomar Foto
  </button>

<!--3.8-->
  <!-- Canvas invisible y lugar donde se muestra la foto -->
  <canvas id="canvasCamara" style="display:none;"></canvas>
  <img id="fotoCamara" alt="Foto Cámara" style="display:none; width:160px; height:120px; border-radius:10px; margin-top:8px;">
</div>

<!--3.9-->
<!-- Cámara: script (deja esto una vez, después de tu HTML; ya usa DOMContentLoaded) -->



<script>
//3.9.1
document.addEventListener("DOMContentLoaded", () => {
  const video = document.getElementById('videoCamara');
  const canvas = 
document.getElementById('canvasCamara');
  const btnCamara = document.getElementById('btnCamara');
  const btnTomarFoto = document.getElementById('btnTomarFoto');
  const fotoCamara = document.getElementById('fotoCamara');
  let streamActivo = null;

//3.9.2
  // Encender / Apagar cámara
    btnCamara.addEventListener('click', async () => {
    if (!streamActivo) {
      try {
        streamActivo = await navigator.mediaDevices.getUserMedia({ video: true });
        video.srcObject = streamActivo;
        video.style.display = 'block';
        btnTomarFoto.style.display = 'inline-block';
        btnCamara.textContent = '';   //Apagar 123 Cámara jorge
        //btnCamara.style.background = '';  //codigo color #c62828
        //btnCamara.style.background = 'transparent ';
      } catch (err) {
        alert('⚠️ No se pudo acceder a la cámara.\n' + err);  
      }
    } else {
      detenerCamaraPC();
    }
  });


//3.9.3  
  // Tomar foto
  // Tomar foto, mostrarla y guardar automáticamente
btnTomarFoto.addEventListener('click', () => {
  if (!streamActivo) return;

  canvas.width = video.videoWidth || 640;
  canvas.height = video.videoHeight || 480;
  const ctx = canvas.getContext('2d');
  ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

//3.9.4
  // Convertir a data URL
  const dataURL = canvas.toDataURL('image/png');

//3.9.5
  // Mostrar foto en la página
  fotoCamara.src = dataURL;
  fotoCamara.style.display = 'block';

//3.9.6
  // Forzar descarga automática
  const link = document.createElement('a');
  link.href = dataURL;
  link.download = `foto_${Date.now()}.png`; // name único
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);

//3.9.7
  // Apagar cámara
  detenerCamaraPC();
})

//3.9.8
  // Detener cámara
  function detenerCamaraPC() {
    if (streamActivo) {
      streamActivo.getTracks().forEach(track => track.stop());
      streamActivo = null;
    }
    video.srcObject = null;
    video.style.display = 'none';
    btnTomarFoto.style.display = 'none';
    btnCamara.textContent = 'Encender Cámara';
    btnCamara.style.background = 'yellow';    <!--segundo boton -Encender Cámara--> 
  }
});
</script>




<!--3.10-->
<script>

//3.10.1
//foto cliente
  const btnSubirfoto = document.getElementById("btnSubirfoto");
  const inputFoto = 
document.getElementById("inputFoto");
  const fotoCliente = document.getElementById("fotoCliente");

//3.10.2
  // Abrir selector de archivos
  btnSubirfoto.addEventListener("click", () => inputFoto.click());

//3.10.3
  // Actualizar imagen al seleccionar archivo
  inputFoto.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = (evt) => fotoCliente.src = evt.target.result;
      reader.readAsDataURL(file);
    }
  });
</script>



<!--3.11-->
<script>

//3.11.1
// === Variables Globales ===
const container = document.getElementById('circle');
const franja = document.getElementById('franja');
const menuInicial = document.getElementById('menuInicial');

let images = [], rotation = 0, speed = 0.01, isPaused = false, nextId = 1;

//3.11.2
// variable para imágenes locales de Categorias: Blusas - Electro - Zapatos - Carros
let imagenesLocalesBlusas = [];
let imagenesLocalesElectro = [];
let imagenesLocalesCarros = [];

//3.11.3
// --- carrusel - franja - Variables para guardar Backup por categoría ---
let backupCarrusel = [];
let backupFranja = [];

//3.11.4
// --- carrusel y franja - Funciones auxiliares para generar  -
function generarCarrusel(urls) {
  container.innerHTML = '';
  images = [];
  urls.forEach(src => agregarImagenCarrusel(src)); // función que agrega solo al carrusel
}

//3.11.5
function generarFranja(urls) {
  franja.innerHTML = '';
  urls.forEach(src => {
    const thumbContainer = document.createElement('div');
    thumbContainer.className = 'thumb-container';

    const thumb = document.createElement('img');
    thumb.src = src;

    const btnEliminar = document.createElement('button');
    btnEliminar.className = 'btnEliminar';
    btnEliminar.textContent = '×';
    btnEliminar.onclick = e => { 
      e.stopPropagation(); 
      franja.removeChild(thumbContainer); 
    };

    thumbContainer.appendChild(thumb);
    thumbContainer.appendChild(btnEliminar);
    franja.appendChild(thumbContainer);

//3.11.6
    // Clic en miniatura actualiza la imagen del carrusel correspondiente
    thumb.onclick = () => {
      const imgEnCarrusel = images.find(i => i.src === src);
      if (imgEnCarrusel) imgEnCarrusel.src = src;
    };
  });
}

//3.11.7
// --- Función que agrega imagen solo al carrusel, sin tocar la franja ---
function agregarImagenCarrusel(src){
  const img = document.createElement('img');
  img.src = src;
  img.dataset.id = nextId++;
  img.loading = "lazy";
  img.addEventListener('mouseenter', ()=>isPaused=true);
  img.addEventListener('mouseleave', ()=>isPaused=false);
  container.appendChild(img);
  images.push(img);
  organizarCirculo();
}

//3.11.8
// --- Botón Vaciar/Recuperar Carrusel ---
document.getElementById('btnCarruselToggle').addEventListener('click', () => {

  if (images.length > 0) {
    // Guardar backup solo si aún no existe
    if (backupCarrusel.length === 0) backupCarrusel = images.map(img => img.src);
    container.innerHTML = '';
    images = [];
  } else if (backupCarrusel.length > 0) {
    generarCarrusel(backupCarrusel);
  }
});


//3.11.9
// --- Botón Vaciar/Recuperar Franja ---
document.getElementById('btnFranjaToggle').addEventListener('click', () => {
  if (franja.children.length > 0) {
    // Guardar backup solo si aún no existe
    if (backupFranja.length === 0) backupFranja = Array.from(franja.children).map(div => div.querySelector('img').src);
    franja.innerHTML = '';
  } else if (backupFranja.length > 0) {
    generarFranja(backupFranja);
  }
});


//3.11.10
// --- Al cargar categoría por primera vez ---
function cargarCategoria(urls){
  vaciarCarrusel(); // limpia carrusel y franja
  backupCarrusel = urls.slice();
  backupFranja = urls.slice();
  generarCarrusel(urls);
  generarFranja(urls);
}



//3.11.11
// === Subida imágenes desde input (Blusas y Electrodomésticos) ===
const btnSubir = document.getElementById("btnSubirImagen");
const inputImagenes = document.getElementById("inputImagenes");

//3.11.12
// Al hacer clic en el botón, dispara el input oculto
btnSubir.addEventListener("click", () => {
  inputImagenes.click();
});

//3.11.13
// Al seleccionar archivos en el input
inputImagenes.addEventListener("change", function(event) {
  const files = event.target.files;

  for (let i = 0; i < files.length; i++) {
    const file = files[i];
    const reader = new FileReader();

    reader.onload = function(e) {
      const src = e.target.result;


//3.11.14
      // --- Blusas ---
      if(document.getElementById('btnBlusas').classList.contains('activo')) {
        agregarImagen(src); // agrega al carrusel y franja
        imagenesLocalesBlusas.push(src); 
        localStorage.setItem("blusasLocales", JSON.stringify(imagenesLocalesBlusas));

//3.11.15
      // --- Electrodomésticos ---
      } else if(document.getElementById('btnElectro').classList.contains('activo')) {
        agregarImagen(src);
        imagenesLocalesElectro.push(src);
        localStorage.setItem("electroLocales", JSON.stringify(imagenesLocalesElectro));

//3.11.16
      // --- Otras categorías: solo agregar al carrusel ---
      } else {
        agregarImagen(src);
      }
    };

    reader.readAsDataURL(file);
  }

  // Limpia el input para permitir subir las mismas imágenes de nuevo
  this.value = "";
});



//3.11.17
// === Funciones de carrusel ===
function agregarImagen(src){
  const img = document.createElement('img'); 
  img.src = src; 
  img.dataset.id = nextId++;
  img.loading = "lazy"; 
  img.addEventListener('mouseenter', () => isPaused = true); 
  img.addEventListener('mouseleave', () => isPaused = false);

  container.appendChild(img); 
  images.push(img); 
  organizarCirculo();

  const thumbContainer = document.createElement('div'); 
  thumbContainer.className = 'thumb-container';
  const thumb = document.createElement('img'); 
  thumb.src = src;

  const btnEliminar = document.createElement('button'); 
  btnEliminar.className = 'btnEliminar'; 
  btnEliminar.textContent = '×';

  btnEliminar.onclick = (e) => { 
    e.stopPropagation(); 


//3.11.18
    // --- Quitar del carrusel ---
    const idx = images.findIndex(i => i.dataset.id == img.dataset.id); 
    if(idx >= 0){ 
      const imgToRemove = images.splice(idx,1)[0]; 
      container.removeChild(imgToRemove);
    } 

//3.11.19
    // --- Quitar de la franja ---
    franja.removeChild(thumbContainer);

//3.11.20
    // --- Quitar del LocalStorage (solo si estoy en BLUSAS) ---
    if(document.getElementById('btnBlusas')?.classList.contains('activo')){
      let blusasGuardadas = JSON.parse(localStorage.getItem("blusasLocales") || "[]");
      blusasGuardadas = blusasGuardadas.filter(item => item !== img.src);
      localStorage.setItem("blusasLocales", JSON.stringify(blusasGuardadas));
      imagenesLocalesBlusas = blusasGuardadas; // sincroniza con tu array
    }

//3.11.21
    // --- Quitar del LocalStorage (solo si estoy en Electro  ---
    if(document.getElementById('btnElectro')?.classList.contains('activo')){
      let electroGuardadas = JSON.parse(localStorage.getItem("electroLocales") || "[]");
      electroGuardadas = electroGuardadas.filter(item => item !== img.src);
      localStorage.setItem("electroLocales", JSON.stringify(electroGuardadas));
      imagenesLocalesElectro = electroGuardadas; // sincroniza con tu array
    }
  };


//3.11.22
  thumbContainer.appendChild(thumb); 
  thumbContainer.appendChild(btnEliminar); 
  franja.appendChild(thumbContainer);

  thumb.onclick = () => { img.src = thumb.src; };
}



//3.11.23
function organizarCirculo(){
  const total = images.length; if(total===0) return;
  const radiusX = 400 + total*10; const radiusY = 120 + total*5;
  images.forEach((img,i)=>{
    const angle=(i/total)*2*Math.PI + rotation;
    const x=radiusX*Math.cos(angle)+container.offsetWidth/2-img.offsetWidth/2;
    const y=radiusY*Math.sin(angle)+container.offsetHeight/2-img.offsetHeight/2;
    img.style.left=`${x}px`; img.style.top=`${y}px`; img.style.zIndex=2000-i;
  });
}

//3.11.24
function animar(){ if(!isPaused){ rotation+=speed; } organizarCirculo(); requestAnimationFrame(animar);}
animar();

//3.11.25
function vaciarCarrusel(){ container.innerHTML=''; franja.innerHTML=''; images=[]; rotation=0; speed=0.01; }

//3.11.26
function mostrarMensajeVacio(){ vaciarCarrusel(); const mensaje=document.createElement('div'); mensaje.textContent="No images disponibles"; mensaje.style.fontSize="18px"; mensaje.style.color="#555"; mensaje.style.textAlign="center"; mensaje.style.marginTop="250px"; container.appendChild(mensaje); }

//3.11.27
// === URLs por categoria ===
const urlsSombreros = [
"https://www.koaj.co/104386-large_default/sombrero.jpg","https://www.koaj.co/104372-large_default/sombrero.jpg","https://www.koaj.co/80357-large_default/sombrero.jpg","https://www.koaj.co/50310-large_default/sombrero.jpg","https://www.koaj.co/103516-large_default/sombrero.jpg"
];

const urlsBlusas = [
/*
"https://icon2.cleanpng.com/ci2/kyi/yld/abf0atjcr.webp",  //mujer tejiendo
"https://koaj.ec/284138-thickbox_default/blusa-camisera-oversize-manga-larga.jpg",   //blusa mujer 2
"https://studiofpa.vtexassets.com/arquivos/ids/343385-2000-NaN?v=638929460513270000&width=2000&height=NaN&aspect=true",    //blusa mujer 3
"https://studiofpa.vtexassets.com/arquivos/ids/343492-2000-NaN?v=638929461407230000&width=2000&height=NaN&aspect=true",    //blusa mujer 4
"https://studiofpa.vtexassets.com/arquivos/ids/342366-2000-NaN?v=638923322215230000&width=2000&height=NaN&aspect=true",    //blusa mujer 5
"https://studiofpa.vtexassets.com/arquivos/ids/317680-2000-NaN?v=638748081191300000&width=2000&height=NaN&aspect=true",    //blusa mujer 6
"https://leonisa.ec/cdn/shop/files/F7028_001_1200X1500_1_380x.jpg?v=1754061341",   //blusa mujer 7
"https://studiofpa.vtexassets.com/arquivos/ids/342969-2000-NaN?v=638923590454830000&width=2000&height=NaN&aspect=true"     //blusa mujer 99
*/
];

const urlsPantaMujer = [
"https://leonisa.ec/cdn/shop/files/J2870_700_1200X1500_1_380x.jpg?v=1756758286",   //pantalon mujer 1
"https://leonisa.ec/cdn/shop/files/F7442_145_1200X1500_1_380x.jpg?v=1757361822",   //pantalon mujer 2
"https://leonisa.ec/cdn/shop/files/DN3_022_1200X1500_1_380x.jpg?v=1752587285",     //pantalon mujer 3
"https://leonisa.ec/cdn/shop/files/DN4_018_1200X1500_1_380x.jpg?v=1752587320",     //pantalon mujer 4
"https://leonisa.ec/cdn/shop/files/F6499S_060_1200X1500_1_380x.jpg?v=1735220932",  //pantalon mujer 5
"https://leonisa.ec/cdn/shop/files/F7350_146_1200X1500_1_380x.jpg?v=1750453975"    //pantalon mujer 6
];

const urlsZapatos = ["https://paylessec.vtexassets.com/arquivos/ids/313859-450-450?v=637780423610070000&width=450&height=450&aspect=true",   //Zapm 1

"https://ivannyboutique.com/40592-large_default/zapato-de-taco-irina-rojo-vino.jpg",   //Zapm 2 
 "https://www.tricot.cl/dw/image/v2/BGHZ_PRD/on/demandware.static/-/Sites-master-catalog-tricot/default/dw84d47f8e/images/large/PD273869.jpg?sw=400&sh=400&sm=fit&q=80&strip=false",   //Zapm 3  

"https://ivannyboutique.com/38750-large_default/zapato-de-taco-manuela.jpg",    //Zapm 4
  
"https://paylessec.vtexassets.com/arquivos/ids/338127-450-450?v=637886720489230000&width=450&height=450&aspect=true", //Zapm 5
  "https://www.tricot.cl/dw/image/v2/BGHZ_PRD/on/demandware.static/-/Sites-master-catalog-tricot/default/dw42d28597/images/large/PD412148.jpg?sw=400&sh=400&sm=fit&q=80&strip=false",   //Zapm 6
  "https://www.tricot.cl/dw/image/v2/BGHZ_PRD/on/demandware.static/-/Sites-master-catalog-tricot/default/dwd3763e6e/images/large/PD412154.jpg?sw=400&sh=400&sm=fit&q=80&strip=false",  //Zapm 7
  "https://www.tricot.cl/dw/image/v2/BGHZ_PRD/on/demandware.static/-/Sites-master-catalog-tricot/default/dwe2f6f663/images/large/PD412200.jpg?sw=400&sh=400&sm=fit&q=80&strip=false",  //Zapm 8
  "https://www.tricot.cl/dw/image/v2/BGHZ_PRD/on/demandware.static/-/Sites-master-catalog-tricot/default/dw3177e76c/images/large/PD412147.jpg?sw=400&sh=400&sm=fit&q=80&strip=false"  //Zapm 9
];


const urlsVestidos = [
"https://i.pinimg.com/236x/9c/74/62/9c7462abacefdacb1175177cbca8c92c.jpg",  //vestido 1
"https://taty.com.ec/wp-content/uploads/2025/09/taty_vestido_co3903_2-540x690.jpg", //vestido 2
"https://taty.com.ec/wp-content/uploads/2025/09/taty_vestido_d805641_2-540x690.jpg", //vestido 3
"https://taty.com.ec/wp-content/uploads/2025/09/taty_vestido_cd4110b_2-540x690.jpg", //vestido 4
"https://taty.com.ec/wp-content/uploads/2025/09/taty_vestido_LD11625_2-540x690.jpg" //vestido 5
];

const urlsFaldas = [
"https://taty.com.ec/wp-content/uploads/2025/07/taty_falda_scu720_2-540x690.jpg",  //falda 1
"https://taty.com.ec/wp-content/uploads/2025/03/taty_vestido_10270_2.jpg",  //falda 2
"https://taty.com.ec/wp-content/uploads/2024/12/taty_falda_6948pn_1-540x690.jpg",  //falda 3
"https://taty.com.ec/wp-content/uploads/2025/02/taty_blusa_mt4709_1-540x690.jpg",  //falda 4
"https://cdn.shopify.com/s/files/1/0274/1066/1461/files/092528334414-2_grande.jpg?v=1759360122",   //falda 5
"https://taty.com.ec/wp-content/uploads/2024/11/taty_falda_ch9365_1-1-540x690.jpg"  //falda 6
];

const urlsChompas = ["https://nafnafec.vtexassets.com/arquivos/ids/297046-500-auto?v=638930473271470000&width=500&height=auto&aspect=true",  //chompa 1
"https://nafnafec.vtexassets.com/arquivos/ids/298923-500-auto?v=638931281128800000&width=500&height=auto&aspect=true",  //chompa 2
"https://nafnafec.vtexassets.com/arquivos/ids/294430-500-auto?v=638930439864300000&width=500&height=auto&aspect=true",  //chompa 3
"https://tennisecuador.vtexassets.com/arquivos/ids/959099-500-auto?v=638509828234400000&width=500&height=auto&aspect=true"  //chompa 6
];


const urlsCamisas = [  "https://pical.com.ec/pub/media/catalog/product/cache/e8e56bfb7b317cf25975f69c538ca145/c/i/ci15.01468-4a-155_1.jpg", //camisas 1
  "https://pical.com.ec/pub/media/catalog/product/cache/e8e56bfb7b317cf25975f69c538ca145/c/i/ci15.01467-3e-155_1.jpg", //camisas 2
  "https://pical.com.ec/pub/media/catalog/product/cache/e8e56bfb7b317cf25975f69c538ca145/c/i/ci15.01335-7a-155_1.jpg", //camisas 3
  "https://tennisecuador.vtexassets.com/arquivos/ids/959099-500-auto?v=638509828234400000&width=500&height=auto&aspect=true",//camisas 4
       "https://hmecuador.vtexassets.com/unsafe/412x0/center/middle/https%3A%2F%2Fhmecuador.vtexassets.com%2Farquivos%2Fids%2F3635703-560-auto%2FCamisa-de-franela-Loose-Fit---Azul-Cuadros---H-M-EC.jpg%3Fv%3D638948782407500000"  //camisas 5

];   


const urlsRopa = [
  "https://www.bigallihats.com/cdn/shop/files/Marina-Bigalli_c438bdaa-bca4-4f0b-8205-64bddaf5c586.jpg",
  "https://tennisecuador.vtexassets.com/arquivos/ids/961762-500-auto?v=638520180994100000&width=500&height=auto&aspect=true",
  "https://tennisecuador.vtexassets.com/arquivos/ids/971372-500-auto?v=638545919157330000&width=500&height=auto&aspect=true",
  "https://tennisecuador.vtexassets.com/arquivos/ids/959485-500-auto?v=638514754774970000&width=500&height=auto&aspect=true",
  "https://tennisecuador.vtexassets.com/arquivos/ids/959099-500-auto?v=638509828234400000&width=500&height=auto&aspect=true",
  "https://tennisecuador.vtexassets.com/arquivos/ids/1113002-500-auto?v=638854417521630000&width=500&height=auto&aspect=true"
];


const urlsElectro = [
  "https://www.kissu.com.ec/imagenes//subcategorias/1659549117.jpg",  //electro 1
  "https://www.kissu.com.ec/imagenes//productos/sm/17081008480.jpg",  //electro 2
  "https://www.kissu.com.ec/imagenes//productos/sm/16789070110.jpg",  //electro 3
  "https://www.kissu.com.ec/imagenes//productos/sm/17477744290.jpg"   //electro 4
]; 


const urlsCarros = ["https://d1i6h2eptoatah.cloudfront.net/pages/benefit_section_buy_image.webp"]; //carros 1


//3.11.28
// === Funcion auxiliar random ===
function randomItem(array){ return array[Math.floor(Math.random()*array.length)]; }

function agregarImagenRandom(urlsCategoria){ if(urlsCategoria.length>0) agregarImagen(randomItem(urlsCategoria)); }

//3.11.29
// === Resaltar boton activo ===
function resaltarBoton(idBoton){ const botones = menuInicial.querySelectorAll('button'); botones.forEach(btn=>btn.classList.remove('activo')); document.getElementById(idBoton).classList.add('activo'); }

//3.11.30
// === Funciones de carga de categoria con primera imagen random ===

//3.11.31
//function cargarSombreros(){ vaciarCarrusel(); agregarImagenRandom(urlsSombreros); }   //saca solo una image

function cargarSombreros(){ 
  vaciarCarrusel(); 
  urlsSombreros.forEach(src => agregarImagen(src));   //saca sacar varias images
}

//3.11.32
function cargarBlusas(){ 
vaciarCarrusel(); 
  // Primero las imágenes predeterminadas
  urlsBlusas.forEach(src => agregarImagen(src));
  // Luego agregar las imágenes locales subidas desde PC
  imagenesLocalesBlusas.forEach(src => agregarImagen(src));
}


//3.11.33
/*
function cargarBlusas(){ 
  vaciarCarrusel(); 
  urlsBlusas.forEach(src => agregarImagen(src));
}
*/

//3.11.34
function cargarPantaMujer(){ 
  vaciarCarrusel(); 
  urlsPantaMujer.forEach(src => agregarImagen(src));
}


//3.11.35
function cargarZapatos(){ 
  vaciarCarrusel(); 
  urlsZapatos.forEach(src => agregarImagen(src));
}

//3.11.36
function cargarVestidos(){ 
  vaciarCarrusel(); 
  urlsVestidos.forEach(src => agregarImagen(src));
}

//3.11.37
function cargarFaldas(){ 
  vaciarCarrusel(); 
  urlsFaldas.forEach(src => agregarImagen(src));
}

//3.11.38
function cargarChompas(){ 
  vaciarCarrusel(); 
  urlsChompas.forEach(src => agregarImagen(src));
}

//3.11.39
function cargarCamisas(){ 
  vaciarCarrusel(); 
  urlsCamisas.forEach(src => agregarImagen(src));
}

//3.11.40
function cargarRopa(){ 
  vaciarCarrusel(); 
  urlsRopa.forEach(src => agregarImagen(src));
}

//3.11.41
// === Electro - LOCALSTORAGE Funciones para cargar   ===
function cargarElectro(){ 
  vaciarCarrusel(); 

  // Primero las imágenes predeterminadas
  urlsElectro.forEach(src => agregarImagen(src));

//3.11.42
  // Luego agregar las imágenes locales guardadas en LocalStorage
  const electroGuardadas = localStorage.getItem("electroLocales");
  if(electroGuardadas){
    imagenesLocalesElectro = JSON.parse(electroGuardadas);
    imagenesLocalesElectro.forEach(src => agregarImagen(src));
  }
}

//3.11.43
function cargarCarros(){ vaciarCarrusel(); agregarImagenRandom(urlsCarros); }
function cargarFerreteria(){ mostrarMensajeVacio(); }
function cargarMotos(){ mostrarMensajeVacio(); }
function cargarBicicletas(){ mostrarMensajeVacio(); }
function cargarRepuestos(){ mostrarMensajeVacio(); }
function cargarCelulares(){ mostrarMensajeVacio(); }

//3.11.44
//Mostrar/Ocultar franja
function toggleFranja() {
  franja.style.display = (franja.style.display === 'flex') ? 'none' : 'flex';
}

//3.11.45
// Evento de clic
document.getElementById('btnToggleFranjaMenu').addEventListener('click', toggleFranja);

//3.11.46
// Función para esconder foto tomada
function esconderFoto() {
  const foto = document.getElementById('fotoCamara');
  foto.style.display = 'none';
}

//3.11.47
// Función para mostrar foto tomada
function mostrarFoto() {
  const foto = document.getElementById('fotoCamara');
  if(foto.src) foto.style.display = 'block'; // solo si ya hay foto
}

//3.11.48
// Alternar foto (botón o voz)
function toggleFoto() {
  const foto = document.getElementById('fotoCamara');
  if(foto.style.display === 'none') mostrarFoto();
  else esconderFoto();
}

  
//3.11.49
// === Eventos de botones ===
const botonesCategorias = {
  'btnSombreros': cargarSombreros,
  'btnBlusas': cargarBlusas,
  'btnPantaMujer': cargarPantaMujer,
  'btnZapatos': cargarZapatos,
  'btnVestidos': cargarVestidos,
  'btnFaldas': cargarFaldas,
  'btnChompas': cargarChompas,
  'btnCamisas': cargarCamisas,
  'btnRopa': cargarRopa,
  'btnElectro': cargarElectro,
  'btnCarros': cargarCarros
};

for(const id in botonesCategorias){
  document.getElementById(id).addEventListener('click', ()=>{
    container.style.display='block'; franja.style.display='flex';
    botonesCategorias[id](); resaltarBoton(id);
  });
}

//3.11.50
// === Boton Mostrar/Ocultar franja dentro del body===
/*
document.getElementById('btnToggleFranja').addEventListener('click', ()=>{
  franja.style.display = (franja.style.display==='flex') ? 'none':'flex';
});
*/


//3.11.51
// === Control por voz usando Web Speech API ===
if('webkitSpeechRecognition' in window || 'SpeechRecognition' in window){
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const recognition = new SpeechRecognition();
  recognition.lang = 'es-ES';
  recognition.continuous = true;
  recognition.interimResults = false;

recognition.onresult = function(event){
  const last = event.results.length -1;
  const text = event.results[last][0].transcript.toLowerCase().trim();
  console.log("Comando voz:", text);

//3.11.52
// === Control cámara ===
    if(text.includes("encender cámara")) {
        document.getElementById('btnCamara').click();
    }
    if(text.includes("apagar cámara")) {
        detenerCamaraPC();
    }
    if(text.includes("tomar foto")) {
        document.getElementById('btnTomarFoto').click();
    }

//3.11.53  
// carrusel voz - usa carrusel para vaciar o recuperar
if(text.includes("carrusel")){
  document.getElementById('btnCarruselToggle').click(); // alterna vaciar/recuperar
}

//3.11.54
// franja voz - usa franja para vaciar o recuperar
if(text.includes("franja")){
  toggleFranja();
}


//3.11.55
// cero / uno - mostrar / ocultar col izq - menú categorías 
  if(text.includes("uno")){
  document.getElementById("menuInicial").style.display = "flex"; // mostrar columna
  abrirPantallaCompleta(); // entrar a fullscreen real
}
  if(text.includes("cero") || text.includes("f11")){
  document.getElementById("menuInicial").style.display = "none"; // ocultar columna
  cerrarPantallaCompleta(); // salir de fullscreen
}


//3.11.56
  // --- Controlar selección de categorías ---
  for(const id in botonesCategorias){
    const nombreBoton = document.getElementById(id).textContent.toLowerCase();
    if(text.includes(nombreBoton)){
      document.getElementById(id).click();
      break;
    }
  }
}

  recognition.onend = ()=>recognition.start();
  recognition.start();
}


//3.11.57
//DOM - LOCALSTORAGE

window.addEventListener('DOMContentLoaded', ()=>{
  // --- Recuperar imágenes locales de Blusas desde LocalStorage ---
  const blusasGuardadas = localStorage.getItem("blusasLocales");
  if(blusasGuardadas){
    imagenesLocalesBlusas = JSON.parse(blusasGuardadas);
  }

//3.11.58
  // --- Recuperar imágenes locales de Electro desde LocalStorage ---
  const electroGuardadas = localStorage.getItem("electroLocales");
  if(electroGuardadas){
    imagenesLocalesElectro = JSON.parse(electroGuardadas);
  }

//3.11.59
  // --- Selección aleatoria de categoría ---
  const categorias = Object.keys(botonesCategorias); // todas las categorías disponibles
  const categoriaRandom = categorias[Math.floor(Math.random() * categorias.length)]; // selecciona una al azar
  document.getElementById(categoriaRandom).click(); // simula clic en esa categoría
});
</script>


  
<!--3.12 - Carrusel spot TV -->


  
<!!--3.13--> 
<script>
  //CAMARA FOTO
const videoCamara = document.getElementById('videoCamara');
const canvasCamara = document.getElementById('canvasCamara');
const btnTomarFoto = document.getElementById('btnTomarFoto');
const fotoCamara = document.getElementById('fotoCamara');

btnTomarFoto.addEventListener('click', () => {
    // 1️⃣ Capturar foto del video
    canvasCamara.width = videoCamara.videoWidth;
    canvasCamara.height = videoCamara.videoHeight;
    const ctx = canvasCamara.getContext('2d');
    ctx.drawImage(videoCamara, 0, 0, canvasCamara.width, canvasCamara.height);

    // 2️⃣ Poner la foto en el <img> original
    fotoCamara.src = canvasCamara.toDataURL();
    fotoCamara.style.display = 'block';

    // 3️⃣ Preparar estilo para moverla
    fotoCamara.style.position = 'absolute';
    fotoCamara.style.left = '1000px';   // X deseada
    fotoCamara.style.top = '80px';     // Y deseada
    fotoCamara.style.width = '200px';
    fotoCamara.style.height = '200px';
    fotoCamara.style.transition = 'all 0.5s ease'; // animación suave
});
</script>

</body>
</html>



