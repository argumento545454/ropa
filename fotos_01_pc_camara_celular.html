<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>fotos_01_pc_camara_celular.html</title>
<style>
  body { text-align: center; font-family: Arial; margin-top: 20px; }
  video, canvas, img { border: 2px solid #ccc; border-radius: 10px; margin: 10px; }
  button { margin: 10px; padding: 10px 20px; font-size: 16px; }
</style>
</head>
<body>

<h2>fotos_01_pc_camara_celular</h2>

<!-- Foto desde PC -->
<input type="file" id="inputFotoPC" accept="image/*">
<br>
<img id="fotoPC" alt="Foto PC" style="display:none; width:320px; height:240px;">

<hr>

<!-- Foto desde cámara PC -->
<video id="video" width="320" height="240" autoplay></video>
<br>
<button id="btnFotoCamara">Tomar Foto</button>
<br>
<canvas id="canvas" width="320" height="240" style="display:none;"></canvas>
<img id="fotoCamara" alt="Foto Cámara" style="display:none; width:320px; height:240px;">

<hr>

<!-- Foto desde celular -->
<input type="file" id="inputFotoCelular" accept="image/*" capture="environment">
<br>
<img id="fotoCelular" alt="Foto Celular" style="display:none; width:320px; height:240px;">

<script>
// === Foto desde PC ===
const inputFotoPC = document.getElementById('inputFotoPC');
const fotoPC = document.getElementById('fotoPC');

inputFotoPC.addEventListener('change', e => {
  const file = e.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = () => {
      fotoPC.src = reader.result;
      fotoPC.style.display = 'block';
    }
    reader.readAsDataURL(file);
  }
});

// === Foto desde cámara PC ===
const video = document.getElementById('video');
const canvas = document.getElementById('canvas');
const btnFotoCamara = document.getElementById('btnFotoCamara');
const fotoCamara = document.getElementById('fotoCamara');

navigator.mediaDevices.getUserMedia({ video: true })
  .then(stream => { video.srcObject = stream; })
  .catch(err => { alert('Error al acceder a la cámara: ' + err); });

btnFotoCamara.addEventListener('click', () => {
  const ctx = canvas.getContext('2d');
  ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
  fotoCamara.src = canvas.toDataURL('image/png');
  fotoCamara.style.display = 'block';
});

// === Foto desde celular ===
const inputFotoCelular = document.getElementById('inputFotoCelular');
const fotoCelular = document.getElementById('fotoCelular');

inputFotoCelular.addEventListener('change', e => {
  const file = e.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = () => {
      fotoCelular.src = reader.result;
      fotoCelular.style.display = 'block';
    }
    reader.readAsDataURL(file);
  }
});
</script>

</body>
</html>